(function(t){function e(e){for(var s,n,i=e[0],l=e[1],c=e[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/gantt_se/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"2b18":function(t,e,a){"use strict";var s=a("965c"),r=a.n(s);r.a},"390d":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=o,t.exports=r,r.id="4678"},"4af5":function(t,e,a){"use strict";var s=a("5e51"),r=a.n(s);r.a},"4c27":function(t,e,a){"use strict";var s=a("390d"),r=a.n(s);r.a},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"5e51":function(t,e,a){},"6ac2":function(t,e,a){"use strict";var s=a("ae57"),r=a.n(s);r.a},"90e8":function(t,e,a){},"965c":function(t,e,a){},"9c0c":function(t,e,a){},ae57:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);var s=a("2fe1");s["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain-fluid",attrs:{id:"app"}},[a("Header"),a("Toolbars"),a("router-view",{staticClass:"main"})],1)},n=[],i=a("9ab4"),l=a("60a3"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg justify-content-between"},[s("a",{staticClass:"navbar-brand text-dark",attrs:{href:"#"}},[s("img",{attrs:{src:a("cf05"),width:"30",height:"30"}}),s("span",{on:{click:t.test}},[t._v(" Project Supervisor")]),s("span",[t._v("我就爛阿")])]),s("ul",{staticClass:"navbar-nav float-right"},[s("li",{staticClass:"nav-item",attrs:{"data-toggle":"modal","data-target":"#loginModal"}},[t.displayName?t._e():s("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Login")]),t.displayName?s("a",{staticClass:"nav-link",attrs:{href:"#",title:t.email}},[t._v(t._s(t.displayName))]):t._e()]),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"contact"}},[t._v("Contact Information")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"copyright"}},[t._v("Copyright/Laws")])],1)]),s("div",{staticClass:"modal fade login",attrs:{id:"loginModal"}},[s("div",{staticClass:"modal-dialog login animated"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[t.displayName?t._e():s("h4",{staticClass:"modal-title"},[t._v("Login with")]),t.displayName?s("h4",{staticClass:"modal-title"},[t._v("Logout")]):t._e(),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[t._v("×")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"box"},[s("div",{staticClass:"content"},[t.displayName?t._e():s("div",{staticClass:"social"},[s("a",{staticClass:"circle google",attrs:{id:"google_login",href:"#"},on:{click:function(e){return t.login("google")}}},[s("i",{staticClass:"fa fa-google-plus fa-fw"})]),s("a",{staticClass:"circle facebook",attrs:{id:"facebook_login",href:"#"},on:{click:function(e){return t.login("facebook")}}},[s("i",{staticClass:"fa fa-facebook fa-fw"})])]),t.displayName?s("div",{staticClass:"form loginBox"},[s("h4",[t._v(t._s(t.email))]),s("hr"),s("button",{staticClass:"btn btn-default btn-login",on:{click:t.logout}},[t._v("Logout")])]):t._e()])])])])])])])},d=[],u=a("8aa5"),p=a.n(u),f=a("4bb5"),m=a("2f62"),v=a("3317"),h=(a("e71f"),void 0),g=p.a.initializeApp({apiKey:"AIzaSyCRyyDfTwdd16pucgPwNC32N8LeE5tTYjU",authDomain:"gantt-se.firebaseapp.com",databaseURL:"https://gantt-se.firebaseio.com",projectId:"gantt-se",storageBucket:"gantt-se.appspot.com",messagingSenderId:"924626475191",appId:"1:924626475191:web:baac0dea5bfd4977281532"}).firestore();r["a"].use(m["a"]);var b=new m["a"].Store({state:{projectInfo:null,user:{id:null,name:null,email:null},projectList:[]},mutations:i["__assign"]({},v["b"],{updateUser:function(t,e){console.log("store.updateUser"),t.user.id=e.uid,t.user.name=e.displayName,t.user.email=e.email}}),actions:{bindProjectInfo:Object(v["a"])((function(t,e){return i["__awaiter"](h,void 0,void 0,(function(){var a;return i["__generator"](this,(function(s){return a=g.collection("projectInfo").doc(e),a.get().then((function(t){t.exists?console.log(t.data()):a.set({projectName:"我就爛",projectOwner:["捷哥","世雄","宇宸","潘瑨"],teamMember:["捷哥","世雄","宇宸","潘瑨","米卡狗"],tasks:[{state:1,taskId:"1",title:"捷哥是在哈搂???",managers:["捷哥"],type:"Hello",start:"2019-12-06",end:"2019-12-12",progress:0},{state:1,taskId:"2",title:"世雄是在哈搂???",managers:["世雄"],type:"Hello",start:"2019-12-06",end:"2019-12-17",progress:50},{state:1,taskId:"3",title:"宇宸是在哈搂???",managers:["宇宸"],type:"Hello",start:"2019-12-06",end:"2019-12-19",progress:75},{state:1,taskId:"4",title:"潘瑨是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"1-1",title:"-米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"1-2",title:"-米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"2-1",title:"-米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"2-2",title:"-米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"3-1",title:"-米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"1-1-1",title:"1--米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"1-2-1",title:"2--米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"2-1-1",title:"3--米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"2-2-1",title:"4--米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89},{state:1,taskId:"3-1-1",title:"5--米卡狗是在哈搂???",managers:["潘瑨"],type:"Hello",start:"2019-12-06",end:"2019-12-26",progress:89}],startDate:"2019-12-1",releaseDate:"2020-2-25"})})),t.unbindFirestoreRef("projectInfo"),[2,t.bindFirestoreRef("projectInfo",a)]}))}))})),unbindProjectInfo:Object(v["a"])((function(t){return i["__awaiter"](h,void 0,void 0,(function(){return i["__generator"](this,(function(e){return[2,t.unbindFirestoreRef("projectInfo")]}))}))})),updateProjectInfo:function(t,e){var a=e.id;return g.collection("projectInfo").doc(a).set(e)},updateProjectOwner:function(t,e){console.log("store.updateProjectOwner",e);var a=e.id,s=e.insert,r=e.remove,o=g.collection("projectInfo").doc(a);s.forEach((function(t){g.collection("projectList").doc(t).set({projectList:p.a.firestore.FieldValue.arrayUnion(o)},{merge:!0})})),r.forEach((function(t){g.collection("projectList").doc(t).set({projectList:p.a.firestore.FieldValue.arrayRemove(o)},{merge:!0})}))},updateTaskList:function(t,e){var a=e.id;return g.collection("projectInfo").doc(a).update({taskList:e.taskList})},bindProjectList:Object(v["a"])((function(t,e){return i["__awaiter"](h,void 0,void 0,(function(){var a;return i["__generator"](this,(function(s){return a=g.collection("projectList").doc(e),a.get().then((function(t){t.exists?console.log(t.data()):(a.set({projectList:[]}),console.log("not exist"))})),[2,t.bindFirestoreRef("projectList",a)]}))}))})),unbindProjectList:Object(v["a"])((function(t){return i["__awaiter"](h,void 0,void 0,(function(){return i["__generator"](this,(function(e){return[2,t.unbindFirestoreRef("projectList")]}))}))})),addProjectInfo:function(t,e){return g.collection("projectInfo").add(e)},auth:function(t,e){p.a.auth().onAuthStateChanged((function(e){console.log("store.auth auth change",e),e?(t.commit("updateUser",{uid:e.uid,displayName:e.displayName,email:e.email}),t.dispatch("bindProjectList",e.email).then((function(){console.log("store.auth: finish bindProjectList",t.state.projectList)}))):(t.commit("updateUser",{uid:null,displayName:null,email:null}),t.dispatch("unbindProjectList").then((function(){console.log("store.auth: finish unbindProjectList",t.state.projectList)})),t.dispatch("unbindProjectInfo").then((function(){console.log("store.auth: finish unbindProjectInfo",t.state.projectInfo)})))}))}}}),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["__extends"](e,t),e.prototype.logSomeChange=function(t){console.log("header.logSomeChange: user change",t)},e.prototype.login=function(t){var e;switch(t){case"facebook":e=new p.a.auth.FacebookAuthProvider,e.setCustomParameters({display:"popup"});break;case"google":e=new p.a.auth.GoogleAuthProvider,e.setCustomParameters({display:"popup"});break;case"github":default:break}null!==e&&p.a.auth().signInWithPopup(e).then((function(t){$("#loginModal").modal("hide")}))},e.prototype.logout=function(){new p.a.auth.FacebookAuthProvider;p.a.auth().signOut().then((function(t){b.commit("updateUser",{uid:null,displayName:null,email:null}),$("#loginModal").modal("hide"),console.log("header.logout: response",t)}))},e.prototype.test=function(){console.log(this.displayName)},i["__decorate"]([Object(f["a"])((function(t){return t.projectInfo.projectName}))],e.prototype,"projectName",void 0),i["__decorate"]([Object(f["a"])((function(t){return t.user.name}))],e.prototype,"displayName",void 0),i["__decorate"]([Object(f["a"])((function(t){return t.user.email}))],e.prototype,"email",void 0),i["__decorate"]([Object(l["d"])("displayName")],e.prototype,"logSomeChange",null),e=i["__decorate"]([l["a"]],e),e}(l["c"]),y=j,_=y,k=(a("2b18"),a("2877")),C=Object(k["a"])(_,c,d,!1,null,"59f598ec",null),w=C.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav border-top border-bottom"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"project","active-class":"active"}},[t._v("Project")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"task","active-class":"active"}},[t._v("Task List")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"gantt","active-class":"active"}},[t._v("Gantt Chart")])],1)])},x=[],O=(a("8ca9"),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["__extends"](e,t),e=i["__decorate"]([l["a"]],e),e}(l["c"])),P=O,L=P,S=(a("6ac2"),Object(k["a"])(L,I,x,!1,null,"86e99ebe",null)),N=S.exports,D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["__extends"](e,t),e=i["__decorate"]([Object(l["a"])({components:{Header:w,Toolbars:N}})],e),e}(l["c"]),M=D,T=M,E=(a("5c0b"),Object(k["a"])(T,o,n,!1,null,null,null)),z=E.exports,H=a("8c4f"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row justify-content-center"},[null!==t.projectInfo&&void 0!==t.projectInfo&&null!==t.taskList&&void 0!==t.taskList?[a("div",{staticClass:"col-10"},[a("form",{attrs:{onsubmit:"false"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}})]),a("table",{staticClass:"table table-striped table-responsive main-table"},[a("thead",[a("th",{staticStyle:{"min-width":"2em"}},[a("input",{staticClass:"checkbox",attrs:{type:"radio",name:"select",checked:""},domProps:{value:"x"}})]),a("th",[t._v("#")]),a("th",{staticStyle:{"min-width":"3em"}},[t._v("State")]),a("th",{staticClass:"col"},[t._v("Title")]),a("th",{staticStyle:{"min-width":"5em"}},[t._v("Manager")]),a("th",{staticStyle:{"min-width":"8em"}},[t._v("Start")]),a("th",{staticStyle:{"min-width":"8em"}},[t._v("End")]),a("th",{staticStyle:{"min-width":"8em"}},[t._v("Time")]),a("th",{staticStyle:{"min-width":"3em"}},[t._v("Progress")]),a("th",[t._v("Delete")])]),a("tbody",{on:{dblclick:function(e){return t.editingCallback(e)},focusout:function(e){return t.finishCallback(e)}}},[t._l(t.filteredTaskList,(function(e){return[a("tr",{key:e.taskId,attrs:{id:e.taskId}},[a("td",{staticStyle:{"min-width":"2em"}},[a("input",{staticClass:"checkbox",attrs:{type:"radio",name:"select"},domProps:{value:e.taskId}})]),a("td",{staticClass:"col-dropdown",on:{click:function(a){return t.toggleSubTable(a,e.taskId)}}},[a("span",{staticClass:"arrow active",attrs:{id:"span"+e.taskId}},[a("span"),a("span")])]),a("td",{staticClass:"col-state noselect",on:{click:function(a){return t.toggleState(e)}}},[a("span",{class:"state-"+t.state[e.state-1]},[t._v("●")])]),a("td",{staticClass:"col-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],staticClass:"form-control",staticStyle:{"text-align":"center",width:"100%"},attrs:{type:"text",id:"title"+e.taskId},domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}}),a("label",{staticStyle:{"text-align":"center",width:"100%"},attrs:{for:"title"+e.taskId}},[t._v(t._s(e.title))])]),a("td",{staticClass:"col-manager"},[a("select",{staticClass:"selectpicker",attrs:{id:"selectpicker"+e.taskId,multiple:"","data-live-search":"true"},on:{change:function(a){return t.updateManagers(a,e.taskId)}}},t._l(t.projectInfo.teamMember,(function(s){return a("option",{key:s,domProps:{value:s,selected:e.managers.includes(s)}},[t._v(t._s(s))])})),0)]),a("td",{staticClass:"col-start"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.start,expression:"item.start"}],staticClass:"form-control",attrs:{type:"date",id:"start"+e.taskId,max:e.end},domProps:{value:e.start},on:{input:function(a){a.target.composing||t.$set(e,"start",a.target.value)}}}),a("label",{attrs:{for:"start"+e.taskId}},[t._v(t._s(e.start))])]),a("td",{staticClass:"col-end"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.end,expression:"item.end"}],staticClass:"form-control",attrs:{type:"date",id:"end"+e.taskId,min:e.start},domProps:{value:e.end},on:{input:function(a){a.target.composing||t.$set(e,"end",a.target.value)}}}),a("label",{attrs:{for:"end"+e.taskId}},[t._v(t._s(e.end))])]),a("td",{staticClass:"col-day"},[t._v(" "+t._s(t.moment(e.end).fromNow())+" ")]),a("td",{staticClass:"col-progress"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.progress,expression:"item.progress"}],staticClass:"form-control",attrs:{type:"text",id:"progress"+e.taskId},domProps:{value:e.progress},on:{input:function(a){a.target.composing||t.$set(e,"progress",a.target.value)}}}),a("label",{attrs:{for:"progress"+e.taskId}},[t._v(t._s(e.progress)+"%")])]),a("td",{staticClass:"col-del"},[a("button",{staticClass:"text-danger delete-btn",on:{click:function(a){return t.deleteTaskCallback(e.taskId)}}},[a("svg",{staticClass:"bi bi-trash-fill",attrs:{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M15 6H5v8.5c0 .634.164 1.23.456 1.685.288.448.747.815 1.33.815h6.428c.583 0 1.042-.367 1.33-.815.292-.454.456-1.051.456-1.685V6zM8 7.5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7zm2-.5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 0110 7zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z","clip-rule":"evenodd"}}),a("path",{attrs:{d:"M3.5 4a1 1 0 011-1h11a1 1 0 011 1v1a1 1 0 01-1 1h-11a1 1 0 01-1-1V4z"}}),a("path",{attrs:{d:"M8 3a1 1 0 011-1h2a1 1 0 011 1v1H8V3z"}})])])])]),a("tr",{key:"sub"+e.taskId,attrs:{id:"sub"+e.taskId}},[a("td",{staticClass:"sub-table",attrs:{colspan:"11"}},[a("table",[t._l(t.getSubTaskList(e),(function(s){return[a("tr",{key:s.taskId,attrs:{id:s.taskId}},[a("td",[a("input",{staticClass:"checkbox",attrs:{type:"radio",name:"select"},domProps:{value:s.taskId}})]),a("td",{staticClass:"col-dropdown",on:{click:function(e){return t.toggleSubSubTable(e,s.taskId)}}},[t._m(0,!0)]),a("td",{staticClass:"col-state noselect",on:{click:function(e){return t.toggleState(s)}}},[a("span",{class:"state-"+t.state[s.state-1]},[t._v("●")])]),a("td",{staticClass:"col-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.title,expression:"subItem.title"}],staticClass:"form-control",staticStyle:{"text-align":"center",width:"100%"},attrs:{type:"text",id:"title"+s.taskId},domProps:{value:s.title},on:{input:function(e){e.target.composing||t.$set(s,"title",e.target.value)}}}),a("label",{staticStyle:{"text-align":"center",width:"100%"},attrs:{for:"title"+s.taskId}},[t._v(t._s(s.title))])]),a("td",{staticClass:"col-manager"},[a("select",{staticClass:"selectpicker",attrs:{id:"selectpicker"+s.taskId,multiple:"","data-live-search":"true"},on:{change:function(e){return t.updateManagers(e,s.taskId)}}},t._l(t.projectInfo.teamMember,(function(e){return a("option",{key:e,domProps:{value:e,selected:s.managers.includes(e)}},[t._v(t._s(e))])})),0)]),a("td",{staticClass:"col-start"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.start,expression:"subItem.start"}],staticClass:"form-control",attrs:{type:"date",id:"start"+s.taskId,max:s.end},domProps:{value:s.start},on:{input:function(e){e.target.composing||t.$set(s,"start",e.target.value)}}}),a("label",{attrs:{for:"start"+s.taskId}},[t._v(t._s(s.start))])]),a("td",{staticClass:"col-end"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.end,expression:"subItem.end"}],staticClass:"form-control",attrs:{type:"date",id:"end"+s.taskId,min:s.start},domProps:{value:s.end},on:{input:function(e){e.target.composing||t.$set(s,"end",e.target.value)}}}),a("label",{attrs:{for:"end"+s.taskId}},[t._v(t._s(s.end))])]),a("td",{staticClass:"col-day"},[t._v(" "+t._s(t.moment(e.end).fromNow())+" ")]),a("td",{staticClass:"col-progress"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.progress,expression:"subItem.progress"}],staticClass:"form-control",attrs:{type:"text",id:"progress"+s.taskId},domProps:{value:s.progress},on:{input:function(e){e.target.composing||t.$set(s,"progress",e.target.value)}}}),a("label",{attrs:{for:"progress"+s.taskId}},[t._v(t._s(s.progress)+"%")])]),a("td",{staticClass:"col-del"},[a("button",{staticClass:"text-danger delete-btn",on:{click:function(e){return t.deleteTaskCallback(s.taskId)}}},[a("svg",{staticClass:"bi bi-trash-fill",attrs:{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M15 6H5v8.5c0 .634.164 1.23.456 1.685.288.448.747.815 1.33.815h6.428c.583 0 1.042-.367 1.33-.815.292-.454.456-1.051.456-1.685V6zM8 7.5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7zm2-.5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 0110 7zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z","clip-rule":"evenodd"}}),a("path",{attrs:{d:"M3.5 4a1 1 0 011-1h11a1 1 0 011 1v1a1 1 0 01-1 1h-11a1 1 0 01-1-1V4z"}}),a("path",{attrs:{d:"M8 3a1 1 0 011-1h2a1 1 0 011 1v1H8V3z"}})])])])]),a("tr",{key:"subsub"+s.taskId,attrs:{id:"subsub"+s.taskId}},[a("td",{staticClass:"subsub-table",attrs:{colspan:"11"}},[a("table",t._l(t.getSubSubTaskList(s),(function(s){return a("tr",{key:s.taskId},[a("td",{staticClass:"col-state noselect",on:{click:function(e){return t.toggleState(s)}}},[a("span",{class:"state-"+t.state[s.state-1]},[t._v("●")])]),a("td",{staticClass:"col-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.title,expression:"subsubitem.title"}],staticClass:"form-control",staticStyle:{"text-align":"center",width:"100%"},attrs:{type:"text",id:"title"+s.taskId},domProps:{value:s.title},on:{input:function(e){e.target.composing||t.$set(s,"title",e.target.value)}}}),a("label",{staticStyle:{"text-align":"center",width:"100%"},attrs:{for:"title"+s.taskId}},[t._v(t._s(s.title))])]),a("td",{staticClass:"col-manager"},[a("select",{staticClass:"selectpicker",attrs:{id:"selectpicker"+s.taskId,multiple:"","data-live-search":"true"},on:{change:function(e){return t.updateManagers(e,s.taskId)}}},t._l(t.projectInfo.teamMember,(function(e){return a("option",{key:e,domProps:{value:e,selected:s.managers.includes(e)}},[t._v(t._s(e))])})),0)]),a("td",{staticClass:"col-start"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.start,expression:"subsubitem.start"}],staticClass:"form-control",attrs:{type:"date",id:"start"+s.taskId,max:s.end},domProps:{value:s.start},on:{input:function(e){e.target.composing||t.$set(s,"start",e.target.value)}}}),a("label",{attrs:{for:"start"+s.taskId}},[t._v(t._s(s.start))])]),a("td",{staticClass:"col-end"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.end,expression:"subsubitem.end"}],staticClass:"form-control",attrs:{type:"date",id:"end"+s.taskId,min:s.start},domProps:{value:s.end},on:{input:function(e){e.target.composing||t.$set(s,"end",e.target.value)}}}),a("label",{attrs:{for:"end"+s.taskId}},[t._v(t._s(s.end))])]),a("td",{staticClass:"col-day"},[t._v(" "+t._s(t.moment(e.end).fromNow())+" ")]),a("td",{staticClass:"col-progress"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.progress,expression:"subsubitem.progress"}],staticClass:"form-control",attrs:{type:"text",id:"progress"+s.taskId},domProps:{value:s.progress},on:{input:function(e){e.target.composing||t.$set(s,"progress",e.target.value)}}}),a("label",{attrs:{for:"progress"+s.taskId}},[t._v(t._s(s.progress)+"%")])]),a("td",{staticClass:"col-del"},[a("button",{staticClass:"text-danger delete-btn",on:{click:function(e){return t.deleteTaskCallback(s.taskId)}}},[a("svg",{staticClass:"bi bi-trash-fill",attrs:{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M15 6H5v8.5c0 .634.164 1.23.456 1.685.288.448.747.815 1.33.815h6.428c.583 0 1.042-.367 1.33-.815.292-.454.456-1.051.456-1.685V6zM8 7.5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7zm2-.5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 0110 7zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z","clip-rule":"evenodd"}}),a("path",{attrs:{d:"M3.5 4a1 1 0 011-1h11a1 1 0 011 1v1a1 1 0 01-1 1h-11a1 1 0 01-1-1V4z"}}),a("path",{attrs:{d:"M8 3a1 1 0 011-1h2a1 1 0 011 1v1H8V3z"}})])])])])})),0)])])]}))],2)])])]}))],2)]),a("div",{staticClass:"modal fade",attrs:{id:"exampleModalLong",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),t._m(2),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.addMemberCallback()}}},[t._v("Add Member")])])])])])]),a("div",{staticClass:"col-2 border-left"},[a("div",{staticClass:"btn-group-vertical w-100 mt-2"},[a("button",{staticClass:"btn btn-outline-dark w-100",attrs:{"data-toggle":"modal","data-target":"#exampleModalLong"}},[t._v("Add new member")]),a("button",{staticClass:"btn btn-outline-dark w-100",on:{click:t.addMissionCallback}},[t._v("Add mission")]),a("button",{staticClass:"btn btn-outline-dark w-100",on:{click:t.storeTaskCallback}},[t._v("Store mission")])]),a("hr"),a("div",{staticClass:"card p-2"},[a("div",{staticClass:"card-content"},[a("p",{staticClass:"font-weight-bold mb-0"},[t._v("Project Information")]),a("table",{staticClass:"table table-sm"},[a("tr",[a("td",[t._v("Total Members")]),a("td",[t._v(t._s(t.numberOfMember))])]),a("tr",[a("td",[t._v("Total Day Elapsed")]),a("td",[t._v(t._s(t.numberOfDateElapse))])]),a("tr",[a("td",[t._v("Total Day Remain")]),a("td",[t._v(t._s(t.numberOfDateRemain))])]),a("tr",[a("td",[t._v("Total Day Duration")]),a("td",[t._v(t._s(t.numberOfTotalDay))])])])])])])]:a("div",{staticClass:"row justify-content-center align-items-center"},[a("h1",{on:{click:function(e){t.test(t.taskList),t.test(t.projectInfo)}}},[t._v(" Login And Select A Project In Project Page ")])])],2)])},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"arrow active"},[a("span"),a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v("Add Member")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-2",staticStyle:{"line-height":"2"},attrs:{for:"addmember"}},[t._v("Name: ")]),a("input",{staticClass:"form-control col-5",attrs:{type:"text",id:"addmember"}})])])])}],F=a("c1df"),U=a.n(F),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=["good","warn","bad"],e.searchString="",e.updatedProject=null,e.currentDate=new Date,e}return i["__extends"](e,t),e.prototype.updateProjectInfo=function(t){this.updatedProject=t},e.prototype.updated=function(){$(".selectpicker").selectpicker("refresh")},e.prototype.mounted=function(){$(".selectpicker").selectpicker("refresh")},e.prototype.test=function(t){console.log(t)},Object.defineProperty(e.prototype,"filteredTaskList",{get:function(){var t=this;return this.searchString?this.taskList.filter((function(e){return-1!==e.title.indexOf(t.searchString)&&1===e.taskId.split("-").length})):this.taskList.filter((function(t){return 1===t.taskId.split("-").length}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfMember",{get:function(){return this.projectInfo.teamMember.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfDateElapse",{get:function(){var t=new Date(this.projectInfo.startDate),e=new Date,a=(e.getTime()-t.getTime())/864e5;return a.toFixed(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfDateRemain",{get:function(){var t=new Date,e=new Date(this.projectInfo.releaseDate),a=(e.getTime()-t.getTime())/864e5;return a.toFixed(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfTotalDay",{get:function(){var t=new Date(this.projectInfo.startDate),e=new Date(this.projectInfo.releaseDate),a=(e.getTime()-t.getTime())/864e5;return a.toFixed(0)},enumerable:!0,configurable:!0}),e.prototype.getSubTaskList=function(t){var e=t.taskId;return this.taskList.filter((function(t){var a=t.taskId.split("-");return 2===a.length&&a[0]===e.toString()}))},e.prototype.getSubSubTaskList=function(t){var e=t.taskId;return this.taskList.filter((function(t){var a=t.taskId.split("-");if(3!==a.length)return!1;var s=a[0]+"-"+a[1];return 3===a.length&&s===e.toString()||void 0}))},e.prototype.moment=function(t){return U()(t)},e.prototype.toggleState=function(t){t.state=t.state%3+1},e.prototype.toggleSubTable=function(t,e){var a=t.currentTarget,s=a.parentElement;s=s.parentElement,s=s.querySelector("#sub"+e),"TD"===a.nodeName&&(a=a.querySelector("span")),a.classList.toggle("active"),null!==s&&(!0===a.classList.contains("active")?s.hidden=!1:s.hidden=!0)},e.prototype.toggleSubSubTable=function(t,e){var a=t.currentTarget,s=a.parentElement;s=s.parentElement,s=s.querySelector("#subsub"+e),"TD"===a.nodeName&&(a=a.querySelector("span")),a.classList.toggle("active"),null!==s&&(!0===a.classList.contains("active")?s.hidden=!1:s.hidden=!0)},e.prototype.editingCallback=function(t){var e=t.target;if(!e.classList.contains("col-day"))if("TD"===e.nodeName){e.classList.add("editing");try{var a=e.querySelector("input");a.focus()}catch(r){}}else if("LABEL"===e.nodeName){var s=e.parentElement;s.classList.add("editing");a=s.querySelector("input");a.focus()}},e.prototype.updateManagers=function(t,e){var a=$("#selectpicker"+e).val();this.taskList.forEach((function(t){t.taskId===e&&(t.managers=a)}))},e.prototype.finishCallback=function(t){var e=t.target,a=e.parentElement;a.classList.remove("editing")},e.prototype.deleteTaskCallback=function(t){var e=this,a=t.split("-"),s=this.taskList.filter((function(t){for(var e=t.taskId.split("-"),s=0;s<a.length;s++)if(e.length>=a.length&&a[s]===e[s])return!0}));s.forEach((function(t){var a=e.taskList.findIndex((function(e){return e.taskId===t.taskId}));-1!==a&&e.taskList.splice(a,1)}))},e.prototype.addMissionCallback=function(){var t=document.querySelector('input[name="select"]:checked'),e=t.value,a=new Date,s=a.toJSON().substr(0,10);a.setDate(a.getDate()+2);var r=a.toJSON().substr(0,10),o="",n=e.split("-");if("x"===e){var i=this.taskList.filter((function(t){return 1===t.taskId.split("-").length})).length+1;o=i.toString()}else if(1===n.length){i=this.taskList.filter((function(t){var a=t.taskId.split("-");return 2===a.length&&""+a[0]===e})).length+1;o=e+"-"+i}else if(2===n.length){i=this.taskList.filter((function(t){var a=t.taskId.split("-");return 3===a.length&&a[0]+"-"+a[1]===e})).length+1;o=e+"-"+i}var l={state:1,taskId:o,title:"new title",type:"Hello",start:s,end:r,time:0,managers:[],progress:0};console.log(l),this.taskList.push(l)},e.prototype.addMemberCallback=function(){var t=document.querySelector("#addmember"),e=t.value;this.projectInfo.teamMember.push(e),t.value=""},e.prototype.storeTaskCallback=function(){null!==this.updatedProject&&(this.$store.dispatch("updateProjectInfo",this.updatedProject),alert("successfully update taskList"))},i["__decorate"]([Object(f["a"])((function(t){return t.projectInfo}))],e.prototype,"projectInfo",void 0),i["__decorate"]([Object(f["a"])((function(t){return t.projectInfo.taskList}))],e.prototype,"taskList",void 0),i["__decorate"]([Object(l["d"])("projectInfo",{deep:!0})],e.prototype,"updateProjectInfo",null),e=i["__decorate"]([Object(l["a"])({})],e),e}(l["c"]),V=q,J=V,B=(a("f087"),Object(k["a"])(J,A,R,!1,null,"ba73956e",null)),G=B.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-9",attrs:{id:"chart"}}),a("div",{staticClass:"col-3 border-left pt-3"},[a("h5",[t._v(t._s(t.title))]),a("table",{staticClass:"table table-sm"},[a("tr",[a("td",[t._v("Start")]),a("td",[t._v(t._s(t.start))])]),a("tr",[a("td",[t._v("End")]),a("td",[t._v(t._s(t.end))])]),a("tr",[a("td",[t._v("Manager")]),a("td",[t._v(t._s(t.managers))])]),a("tr",[a("td",[t._v("Progress")]),a("td",[t._v(t._s(t.progress)+"%")])])]),a("hr"),a("button",{staticClass:"btn btn-info",on:{click:t.exportPng}},[t._v("Export")])])]),a("div",{staticClass:"bar",staticStyle:{display:"none"}})])},Y=[],W=a("8ca9"),X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.searchString="",e.lock=!1,e.type="",e.title="",e.start="",e.end="",e.managers="",e.progress="",e}return i["__extends"](e,t),e.prototype.updateTaskList=function(t){this.$store.dispatch("updateTaskList",t)},e.prototype.beforeRouteEnter=function(t,e,a){a((function(t){t.updateChart()}))},e.prototype.exportPng=function(){console.log(W),W("svg","exportFile",{scale:3,format:"png",quality:.9,download:!0})},e.prototype.updateChart=function(){if(this.taskList&&!this.lock){var t=this,e={top:20,right:20,bottom:50,left:20},a=parseInt(d3.select("#chart").style("width"))-e.left-e.right-120,s=30*this.taskList.length+80,r=this.xScale||d3.scaleTime().domain([Date.now()-6912e5,Date.now()+13824e5]).range([0,a]),o=d3.scaleLinear().domain([0,s]).range([0,s]),n=d3.axisTop(r).ticks(d3.timeDay.every(1));d3.select("#chart").select("svg").remove();var i=d3.select("#chart").append("svg").attr("width",a).attr("height",s),l=i.append("g");l.append("g").attr("transform","translate(120, 30)").call(n);l.append("g").selectAll(".line").data(this.taskList).enter().append("line").attr("x1",120).attr("y1",(function(t,e){return o(30*e+40)})).attr("x2",a).attr("y2",(function(t,e){return o(30*e+40)})).attr("stroke","lightgray");var c=l.append("g").selectAll("rect").data(this.taskList).enter().append("rect").attr("x",(function(t){return Math.max(r(u(t.start))+120,120)})).attr("y",(function(t,e){return o(30*e)+43})).attr("width",(function(t){return Math.max(0,r(u(t.end))+120-Math.max(r(u(t.start))+120,120))})).attr("height",(function(t){return.8*o(30)})).attr("style","fill:rgb(255, 153, 51)");c.each((function(e){var s=d3.select(this),o=d3.select(this.parentElement);o.append("line").attr("class","resizer").attr("x1",s.attr("x")).attr("x2",s.attr("x")).attr("y1",s.attr("y")).attr("y2",+s.attr("y")+24).attr("stroke","lightgray").attr("stroke-width",4).call(d3.drag().container(i.node()).subject((function(){return{x:d3.event.x,y:d3.event.y}})).on("start",(function(){t.lock=!0})).on("drag",(function(t){var e=Math.min(Math.max(d3.event.x,120),+s.attr("x")+ +s.attr("width"));s.attr("width",+s.attr("width")+ +s.attr("x")-e),s.attr("x",e),d3.select(this).attr("x1",e),d3.select(this).attr("x2",e)})).on("end",(function(){e.start=p(r.invert(+s.attr("x")-120)),t.lock=!1,t.updateChart()})));o.append("line").attr("class","resizer").attr("x1",+s.attr("x")+ +s.attr("width")).attr("x2",+s.attr("x")+ +s.attr("width")).attr("y1",s.attr("y")).attr("y2",+s.attr("y")+24).attr("stroke","lightgray").attr("stroke-width",4).call(d3.drag().container(i.node()).subject((function(){return{x:d3.event.x,y:d3.event.y}})).on("start",(function(){t.lock=!0})).on("drag",(function(t){var e=Math.min(Math.max(d3.event.x,+s.attr("x")),a);s.attr("width",e-+s.attr("x")),d3.select(this).attr("x1",e),d3.select(this).attr("x2",e)})).on("end",(function(){e.end=p(r.invert(+s.attr("x")+ +s.attr("width")-120)),t.lock=!1,t.updateChart()})))}));var d=i.append("g");d.selectAll(".title").data(this.taskList).enter().append("foreignObject").attr("x",0).attr("y",(function(t,e){return o(30*e+40)})).attr("width",100).attr("height",30).append("xhtml:span").attr("class","label").text((function(t){return t.title})).on("click",(function(e){t.title=e.title,t.type=e.type,t.start=e.start,t.end=e.end,t.managers=e.managers.join(","),t.progress=e.progress})),d.append("line").attr("x1",105).attr("y1",40).attr("x2",105).attr("y2",s).attr("stroke","lightgray"),i.call(d3.zoom().scaleExtent([.1,10]).extent([[0,0],[a,s]]).on("zoom",(function(){t.xScale=d3.event.transform.rescaleX(r),t.updateChart()}))),i.call(d3.drag().container(i.node()).on("drag",(function(t){console.log(t)})))}function u(t){var e=new Date(Date.parse(t));return e.setHours(0),e}function p(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},i["__decorate"]([Object(f["a"])((function(t){return t.projectInfo.taskList}))],e.prototype,"taskList",void 0),i["__decorate"]([Object(f["a"])("projectInfo")],e.prototype,"projectInfo",void 0),i["__decorate"]([Object(l["d"])("taskList",{deep:!0})],e.prototype,"updateTaskList",null),i["__decorate"]([Object(l["d"])("taskList")],e.prototype,"updateChart",null),e=i["__decorate"]([l["a"]],e),e}(l["c"]),Z=X,Q=Z,tt=(a("4c27"),Object(k["a"])(Q,K,Y,!1,null,null,null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("pre",{staticClass:"home",staticStyle:{"padding-left":"30%"}},[t._v("隱私權政策：\n\n◎個人資料蒐集主體：\n我就爛股份有限公司。\n\n◎個人資料蒐集目的：\n1.客戶管理與服務。\n2.廣告和商業行為管理業務。\n\n◎個人資料之類別：\n1.識別使用者，如：帳號。\n2.使用者安全細節，如：密碼。\n3.個人描述，如：年齡、性別、出生年月日等、\n\n◎個人資料的修改與刪除：\n1.當您在本網站註冊成為會員後，將會無法改變登入帳號。\n2.當您在本網站註冊成為會員後，可以隨時修改使用者暱稱、登入密碼以保持安全杏、正確性。\n\n◎隱私權政策的修改：\n本站將視法令規範及網站經營型態，修改本隱私權政策，以落實保障您隱私權之立意。\n\n  ")])},st=[],rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["__extends"](e,t),i["__decorate"]([Object(l["b"])()],e.prototype,"msg",void 0),e=i["__decorate"]([l["a"]],e),e}(l["c"]),ot=rt,nt=ot,it=Object(k["a"])(nt,at,st,!1,null,"f1b48b5a",null),lt=it.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("pre",{staticClass:"home",staticStyle:{"padding-left":"30%"}},[t._v("台北總部： \n\n10451 台北市中山區林森北路487號1樓209室7號桌 \n\nTable. 7, Rm. 209, 1F., Ln. 487, Linsen N. Rd., Zhongshan Dist., Taipei City 104, Taiwan (R.O.C.)\n\nMail : ISuck59487@gmail.com\n24小時不一定有接客服專線 : 897-7-55906978\n\n高雄分部：\n832 高雄市林園區安和街35號2樓\n2F., No. 35, Anhe St., Linyuan Dist., Kaohsiung City 832, Taiwan (R.O.C.)\n\nMail : ImScatMan@gmail.com\nTEL(付費電話) : (07)28545712\n  ")])},dt=[],ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["__extends"](e,t),e.prototype.func=function(){},i["__decorate"]([Object(l["b"])()],e.prototype,"msg",void 0),e=i["__decorate"]([l["a"]],e),e}(l["c"]),pt=ut,ft=pt,mt=Object(k["a"])(ft,ct,dt,!1,null,"735a471a",null),vt=mt.exports,ht=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h5",[t._v("Login view")])])}],bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["__extends"](e,t),i["__decorate"]([Object(l["b"])()],e.prototype,"msg",void 0),e=i["__decorate"]([l["a"]],e),e}(l["c"]),jt=bt,yt=jt,_t=Object(k["a"])(yt,ht,gt,!1,null,"ce5f3706",null),kt=_t.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"top-15 col-10"},[null!==t.projectInfo?a("form",{staticClass:"col-8 justify-content-center",attrs:{role:"form",id:"projectForm"}},[a("h2",{staticStyle:{"text-align":"center"},on:{click:t.test}},[t._v("Project Information")]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-3 right-align",attrs:{for:"projectname"}},[t._v("ProjectName")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.projectInfo.projectName,expression:"projectInfo.projectName"}],staticClass:"form-control col-5",attrs:{type:"text",id:"projectname",placeholder:"Project Name"},domProps:{value:t.projectInfo.projectName},on:{input:function(e){e.target.composing||t.$set(t.projectInfo,"projectName",e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-3 right-align",attrs:{for:"start"}},[t._v("Start Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.projectInfo.startDate,expression:"projectInfo.startDate"}],staticClass:"form-control col-5",attrs:{type:"date",id:"start"},domProps:{value:t.projectInfo.startDate},on:{input:function(e){e.target.composing||t.$set(t.projectInfo,"startDate",e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-3 right-align",attrs:{for:"end"}},[t._v("End Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.projectInfo.releaseDate,expression:"projectInfo.releaseDate"}],staticClass:"form-control col-5",attrs:{type:"date",id:"end"},domProps:{value:t.projectInfo.releaseDate},on:{input:function(e){e.target.composing||t.$set(t.projectInfo,"releaseDate",e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-3 right-align",attrs:{for:"owner"}},[t._v("Owner")]),a("select",{staticClass:"selectpicker form-control col-5",attrs:{multiple:""}},t._l(t.projectInfo.projectOwner,(function(e){return a("option",{key:e,attrs:{disabled:"",id:"owner",selected:""},domProps:{value:e}},[t._v(t._s(e))])})),0)])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("button",{staticClass:"btn btn-danger col-1",attrs:{type:"button"},on:{click:t.resetProjectInfo}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary col-1",attrs:{type:"button"},on:{click:t.updateProjectInfo}},[t._v("Save")])])])]):null===t.userInfo?a("h1",{staticStyle:{"text-align":"center"}},[t._v(" Login and select a project in project list ")]):a("h1",{staticStyle:{"text-align":"center"}},[t._v(" Select a project in project list or create new project ")])]),a("div",{staticClass:"col-2 border-left"},[a("div",{staticClass:"btn-group-vertical w-100 mt-2"},[a("button",{staticClass:"btn btn-outline-dark w-100",attrs:{"data-toggle":"modal","data-target":"#addNewOwnerModal",disabled:null===t.userInfo||null===t.projectInfo}},[t._v("Add new owner")]),a("button",{staticClass:"btn btn-outline-dark w-100",attrs:{"data-toggle":"modal","data-target":"#removeOwnerModal",disabled:null===t.userInfo||null===t.projectInfo}},[t._v("Remove old owner")]),a("button",{staticClass:"btn btn-outline-dark w-100",attrs:{"data-toggle":"modal","data-target":"#createProjectModal",disabled:null===t.userInfo}},[t._v("Create new project")])]),a("hr"),a("div",{staticClass:"card p-2"},[a("div",{staticClass:"card-content"},[null!==t.projectList&&void 0!==t.projectList?[a("p",{staticClass:"font-weight-bold mb-0"},[t._v("Project List")]),a("select",{staticClass:"selectpicker",on:{change:function(e){return t.getProjectInfo(e)}}},[a("option",{staticStyle:{display:"none"}}),t._l(t.projectList.projectList,(function(e){return a("option",{key:e.id,domProps:{selected:null!==t.projectInfo&&t.projectInfo.id===e.id,value:e.id}},[t._v(" "+t._s(e.projectName)+" ")])}))],2)]:[a("p",{staticClass:"font-weight-bold mb-0"},[t._v("Login to get your project list")])]],2)])])]),a("div",{staticClass:"modal fade",attrs:{id:"addNewOwnerModal",tabindex:"-1",role:"dialog","aria-labelledby":"addNewOwnerModalLongTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-2",staticStyle:{"line-height":"2"},attrs:{for:"addOwner"}},[t._v("Email: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addedOwner,expression:"addedOwner"}],staticClass:"form-control col-5",attrs:{type:"email",id:"addOwner"},domProps:{value:t.addedOwner},on:{input:function(e){e.target.composing||(t.addedOwner=e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.addOwnerCallback}},[t._v("Add Owner")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"removeOwnerModal",tabindex:"-1",role:"dialog","aria-labelledby":"removeOwnerModalLongTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-2",staticStyle:{"line-height":"2"},attrs:{for:"removeOwner"}},[t._v("Email: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.removeOwner,expression:"removeOwner"}],staticClass:"form-control col-5",attrs:{type:"email",id:"removeOwner"},domProps:{value:t.removeOwner},on:{input:function(e){e.target.composing||(t.removeOwner=e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.removeOwnerCallback}},[t._v("Remove Owner")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"createProjectModal",tabindex:"-1",role:"dialog","aria-labelledby":"createProjectModalLongTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog custom-modal-body",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-2",staticStyle:{"line-height":"2"},attrs:{for:"projectName"}},[t._v("Project Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createdProject.projectName,expression:"createdProject.projectName"}],staticClass:"form-control col-5",attrs:{type:"text",id:"projectName",placeholder:"Project Name"},domProps:{value:t.createdProject.projectName},on:{input:function(e){e.target.composing||t.$set(t.createdProject,"projectName",e.target.value)}}})]),a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-2",staticStyle:{"line-height":"2"},attrs:{for:"startDate"}},[t._v("Start Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createdProject.startDate,expression:"createdProject.startDate"}],staticClass:"form-control col-5",attrs:{type:"date",id:"startDate"},domProps:{value:t.createdProject.startDate},on:{input:function(e){e.target.composing||t.$set(t.createdProject,"startDate",e.target.value)}}})]),a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"col-2",staticStyle:{"line-height":"2"},attrs:{for:"releaseDate"}},[t._v("Release Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createdProject.releaseDate,expression:"createdProject.releaseDate"}],staticClass:"form-control col-5",attrs:{type:"date",id:"releaseDate"},domProps:{value:t.createdProject.releaseDate},on:{input:function(e){e.target.composing||t.$set(t.createdProject,"releaseDate",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.createProjectCallback()}}},[t._v("Create")])])])])])])},wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"addNewOwnerModalTitle"}},[t._v("Add Project Owner")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"removeOwnerModalTitle"}},[t._v("Remove Project Owner")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"createProjectModalTitle"}},[t._v("Create Project")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],It=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstInit=!1,e.hasUpdateOwner=!1,e.addedOwner="",e.removeOwner="",e.currentDate=new Date,e.createdProject={projectName:"",projectOwner:[],startDate:"",releaseDate:"",taskList:[],teamMember:[]},e}return i["__extends"](e,t),e.prototype.watchProjectInfo=function(t,e){this.firstInit||(this.initialProjectInfo=JSON.parse(JSON.stringify(this.projectInfo)),this.firstInit=!0)},e.prototype.watchProjectList=function(t){$(".selectpicker").selectpicker("refresh");var e=document.querySelectorAll("div.bootstrap-select");if(console.log(e),1!==e.length)for(var a=0;a<e.length;a++){var s=e[a].firstElementChild;null!==s&&"SELECT"!==s.nodeName&&e[0].remove()}console.log("project.watchProjectList: ",this.projectList)},e.prototype.mounted=function(){$(".selectpicker").selectpicker("refresh"),this.createdProject.projectName="",this.createdProject.projectOwner=[this.userInfo?this.userInfo.email:null],this.createdProject.startDate=this.currentDate.toJSON().substr(0,10),this.createdProject.releaseDate=this.currentDate.toJSON().substr(0,10)},e.prototype.updated=function(){console.log("project.updated"),$(".selectpicker").selectpicker("refresh")},e.prototype.updateProjectInfo=function(){var t=this;if(null!==this.initialProjectInfo){if(this.$store.dispatch("updateProjectInfo",this.projectInfo),!0===this.hasUpdateOwner){var e=[],a=[];console.log(this.initialProjectInfo.projectOwner,this.projectInfo.projectOwner),this.projectInfo.projectOwner.forEach((function(a){console.log("1",a,t.initialProjectInfo.projectOwner.indexOf(a)),-1===t.initialProjectInfo.projectOwner.indexOf(a)&&e.splice(0,0,a)})),this.initialProjectInfo.projectOwner.forEach((function(e){console.log("2",e,t.projectInfo.projectOwner.indexOf(e)),-1===t.projectInfo.projectOwner.indexOf(e)&&a.splice(0,0,e)})),console.log(e,a),this.$store.dispatch("updateProjectOwner",{id:this.projectInfo.id,insert:e,remove:a}),this.hasUpdateOwner=!1}this.initialProjectInfo=JSON.parse(JSON.stringify(this.projectInfo)),alert("successfully update")}},e.prototype.resetProjectInfo=function(){this.projectInfo.startDate=this.initialProjectInfo.startDate,this.projectInfo.releaseDate=this.initialProjectInfo.releaseDate,this.projectInfo.projectOwner=this.initialProjectInfo.projectOwner,this.projectInfo.projectName=this.initialProjectInfo.projectName,console.log("project.resetProjectInfo"),alert("successfully reset")},e.prototype.createProjectCallback=function(){var t=this;console.log(this.createdProject),this.createdProject.projectOwner=[this.userInfo?this.userInfo.email:null],this.$store.dispatch("addProjectInfo",this.createdProject).then((function(e){console.log("docRef",e,"; created poj",t.createdProject),t.$store.dispatch("updateProjectOwner",{id:e.id,insert:[t.userInfo.email],remove:[]}),t.$store.dispatch("bindProjectList",t.userInfo.email).then((function(t){}))})).catch((function(t){console.log(t)})),$("#createProjectModal").modal("hide")},e.prototype.test=function(){console.log("project.test: ",this.initialProjectInfo)},e.prototype.addOwnerCallback=function(){!1===this.hasUpdateOwner&&(this.hasUpdateOwner=!0),this.projectInfo.projectOwner.includes(this.addedOwner)?console.log("project.addOwnerCallback: owner already exist"):this.projectInfo.projectOwner.splice(this.projectInfo.projectOwner.length,0,this.addedOwner)},e.prototype.removeOwnerCallback=function(){if(!1===this.hasUpdateOwner&&(this.hasUpdateOwner=!0),this.projectInfo.projectOwner.includes(this.removeOwner)){var t=this.projectInfo.projectOwner.indexOf(this.removeOwner);this.projectInfo.projectOwner.splice(t,1)}else console.log("project.removeOwnerCallback: owner doesn't exist")},e.prototype.getProjectInfo=function(t){var e=t.currentTarget,a=e.value;this.$store.dispatch("bindProjectInfo",a)},i["__decorate"]([Object(f["a"])((function(t){return t.projectInfo}))],e.prototype,"projectInfo",void 0),i["__decorate"]([Object(f["a"])((function(t){return t.user}))],e.prototype,"userInfo",void 0),i["__decorate"]([Object(f["a"])((function(t){return t.projectList}))],e.prototype,"projectList",void 0),i["__decorate"]([Object(l["d"])("projectInfo",{deep:!0})],e.prototype,"watchProjectInfo",null),i["__decorate"]([Object(l["d"])("projectList",{deep:!0})],e.prototype,"watchProjectList",null),e=i["__decorate"]([l["a"]],e),e}(l["c"]),xt=It,Ot=xt,Pt=(a("4af5"),Object(k["a"])(Ot,Ct,wt,!1,null,"10e543c4",null)),Lt=Pt.exports;r["a"].use(H["a"]);var St=[{path:"/task",name:"task",component:G},{path:"/project",name:"project",component:Lt},{path:"/gantt",name:"gantt",component:et},{path:"/copyright",name:"copyright",component:lt},{path:"/contact",name:"contact",component:vt},{path:"/login",name:"login",component:kt},{path:"/",redirect:"/task"}],Nt=new H["a"]({mode:"history",base:"/gantt_se/",routes:St}),Dt=Nt;r["a"].config.productionTip=!1,new r["a"]({router:Dt,store:b,render:function(t){return t(z)},beforeCreate:function(){this.$store.dispatch("auth")}}).$mount("#app")},cf05:function(t,e,a){t.exports=a.p+"img/logo.5cace7b0.png"},f087:function(t,e,a){"use strict";var s=a("90e8"),r=a.n(s);r.a}});
//# sourceMappingURL=app.bb52d553.js.map